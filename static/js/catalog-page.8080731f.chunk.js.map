{"version":3,"file":"static/js/catalog-page.8080731f.chunk.js","mappings":"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","sources":["webpack://camp-go-ua/./src/components/CardList/CardList.module.css?f86e","components/CardList/CardList.jsx","webpack://camp-go-ua/./src/pages/CatalogPage/CatalogPage.module.css?b0a0","webpack://camp-go-ua/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx","webpack://camp-go-ua/./src/components/CamperDetail/CamperDetail.module.css?1f39","components/CamperDetail/CamperDetail.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardList\":\"CardList_cardList__AmB9m\"};","import styles from './CardList.module.css';\nimport { parseDataForCatalog } from '../../misc/utils';\nimport Card from '../Card';\n\nconst CardList = ({ campers, showMoreClick }) => {\n  return (\n    <>\n      <ul className={styles.cardList}>\n        {campers.map(data => (\n          <Card\n            key={data._id}\n            {...parseDataForCatalog(data)}\n            showMoreClick={showMoreClick}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default CardList;\n","// extracted by mini-css-extract-plugin\nexport default {\"Catalog\":\"CatalogPage_Catalog__d+F4D\",\"button\":\"CatalogPage_button__CK-4O\"};","// extracted by mini-css-extract-plugin\nexport default {\"Overlay\":\"Modal_Overlay__yoxbg\",\"Modal\":\"Modal_Modal__I1UYJ\"};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    const closeModalEsc = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', closeModalEsc);\n    document.documentElement.style.overflow = 'hidden';\n    document.documentElement.style.paddingRight = '22px';\n\n    return () => {\n      window.removeEventListener('keydown', closeModalEsc);\n      document.documentElement.style.overflow = 'auto';\n      document.documentElement.style.paddingRight = '0';\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nexport default {\"modalWrap\":\"CamperDetail_modalWrap__MsPQk\",\"scrollWrap\":\"CamperDetail_scrollWrap__RTcsm\",\"titleWrap\":\"CamperDetail_titleWrap__RXFSV\",\"ratingLocatedWrap\":\"CamperDetail_ratingLocatedWrap__7L0JB\",\"imageWrap\":\"CamperDetail_imageWrap__mPfLL\",\"title\":\"CamperDetail_title__JTm2O\",\"rating\":\"CamperDetail_rating__bxbdm\",\"price\":\"CamperDetail_price__ufsXm\",\"image\":\"CamperDetail_image__A7ywX\"};","import { ReactComponent as Star } from '../../icons/Star.svg';\nimport { ReactComponent as MapPin } from '../../icons/MapPin.svg';\n\nimport { useSelector } from 'react-redux';\nimport { selectCamperById } from '../../store/selectors';\nimport styles from './CamperDetail.module.css';\nimport { formatRating, formatter } from '../../misc/utils';\n\nconst CamperDetail = ({ id }) => {\n  const camperData = useSelector(selectCamperById(id));\n  console.log(camperData);\n  return (\n    <div className={styles.modalWrap}>\n      <div className={styles.titleWrap}>\n        <h2 className={styles.title}>{camperData?.name}</h2>\n        {/*<IconButton type=\"button\" onClick={closeModal}>*/}\n        {/*  <Cross />*/}\n        {/*</IconButton>*/}\n      </div>\n      <div className={styles.ratingLocatedWrap}>\n        <Star />\n        <span className={styles.rating}>{formatRating(camperData)}</span>\n        <MapPin />\n        <span>{camperData?.location}</span>\n      </div>\n      <p className={styles.price}>{formatter.format(camperData?.price)}</p>\n      <div className={styles.scrollWrap}>\n        <div className={styles.imageWrap}>\n          {camperData?.gallery.map((imageSrc, index) => (\n            <img\n              key={index}\n              src={imageSrc}\n              alt={camperData?.name}\n              className={styles.image}\n            ></img>\n          ))}\n        </div>\n        <p>{camperData?.description}</p>\n      </div>\n    </div>\n  );\n};\nexport default CamperDetail;\n","import { useDispatch, useSelector } from 'react-redux';\nimport FilterForm from '../../components/FilterForm';\nimport { changeFilter } from '../../store/filter/filterSlice';\nimport {\n  selectCampers,\n  selectIsLoading,\n  selectPage,\n} from '../../store/selectors';\nimport { useEffect, useState } from 'react';\nimport CardList from '../../components/CardList';\nimport { fetchCampers } from '../../store/campers/operations';\nimport { setPage } from '../../store/campers/campersSlice';\nimport styles from './CatalogPage.module.css';\nimport Loader from '../../components/Loader';\nimport Modal from '../../components/Modal';\nimport CamperDetail from '../../components/CamperDetail';\n\nconst CatalogPage = () => {\n  const [showModal, setShowModal] = useState(false);\n  const [showMoreId, setShowMoreId] = useState(null);\n  const dispatch = useDispatch();\n  const { campers, isShowBtn } = useSelector(selectCampers);\n  const page = useSelector(selectPage);\n  const isLoading = useSelector(selectIsLoading);\n\n  useEffect(() => {\n    dispatch(fetchCampers());\n  }, [dispatch]);\n\n  const handleFilter = data => {\n    dispatch(setPage(1));\n    dispatch(changeFilter(data));\n  };\n  const handleClick = () => {\n    dispatch(setPage(page + 1));\n  };\n  const toggleModal = () => {\n    setShowModal(prevShowModal => !prevShowModal);\n  };\n  const handelShowMoreClick = id => {\n    setShowMoreId(id);\n    toggleModal();\n  };\n\n  return (\n    <>\n      {showModal && (\n        <Modal onClose={toggleModal} onClick={toggleModal}>\n          <CamperDetail id={showMoreId} />\n        </Modal>\n      )}\n      <div className={styles.Catalog}>\n        <h1 className=\"hidden\">Catalog Page</h1>\n        <FilterForm onSubmit={handleFilter} />\n        {isLoading && <Loader />}\n        {!isLoading && (\n          <CardList campers={campers} showMoreClick={handelShowMoreClick} />\n        )}\n      </div>\n      {isShowBtn && !isLoading && (\n        <button className={styles.button} onClick={handleClick}>\n          Load more\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["_ref","campers","showMoreClick","_jsx","_Fragment","children","className","styles","map","data","Card","_objectSpread","parseDataForCatalog","_id","modalRoot","document","getElementById","onClose","useEffect","closeModalEsc","e","code","window","addEventListener","documentElement","style","overflow","paddingRight","removeEventListener","createPortal","onClick","target","currentTarget","id","camperData","useSelector","selectCamperById","console","log","_jsxs","name","Star","formatRating","MapPin","location","formatter","price","gallery","imageSrc","index","src","alt","description","_useState","useState","_useState2","_slicedToArray","showModal","setShowModal","_useState3","_useState4","showMoreId","setShowMoreId","dispatch","useDispatch","_useSelector","selectCampers","isShowBtn","page","selectPage","isLoading","selectIsLoading","fetchCampers","toggleModal","prevShowModal","Modal","CamperDetail","FilterForm","onSubmit","setPage","changeFilter","Loader","CardList"],"sourceRoot":""}